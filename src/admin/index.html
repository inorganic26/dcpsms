<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>관리자 페이지 - DCPSMS</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
  <link rel="stylesheet" href="/src/shared/style.css">
</head>
<body class="bg-slate-50 min-h-screen text-slate-800 font-inter">

  <div id="toast-notification" class="fixed top-8 right-8 z-[100] p-4 rounded-lg shadow-lg text-white transform translate-x-[120%] transition-all duration-300 opacity-0 bg-slate-800">
    <p id="toast-message">알림</p>
  </div>

  <div id="admin-initial-login" class="fixed inset-0 flex items-center justify-center bg-slate-100 z-50">
    <div class="bg-white p-8 rounded-2xl shadow-xl w-full max-w-sm text-center border border-slate-200">
      <h1 class="text-3xl font-bold text-slate-800 mb-6">관리자 로그인</h1>
      <input type="password" id="admin-secret-password" class="w-full p-4 border border-slate-300 rounded-xl mb-4 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition shadow-sm placeholder-slate-400" placeholder="비밀번호 입력">
      <button id="admin-secret-login-btn" class="w-full bg-indigo-600 text-white font-bold py-4 rounded-xl hover:bg-indigo-700 transition shadow-md">로그인</button>
    </div>
  </div>

  <div id="admin-main-dashboard" class="hidden min-h-screen flex flex-col">
    <nav class="bg-white border-b border-slate-200 px-6 py-4 flex justify-between items-center shadow-sm sticky top-0 z-40">
      <div class="flex items-center gap-3">
        <div class="w-10 h-10 bg-indigo-600 rounded-lg flex items-center justify-center text-white font-bold text-xl shadow-md">A</div>
        <h1 class="text-xl font-bold text-slate-800 tracking-tight">관리자 센터</h1>
      </div>
      <div class="text-sm text-slate-500 font-medium bg-slate-100 px-3 py-1 rounded-full">Admin Mode</div>
    </nav>

    <div id="admin-dashboard-view" class="p-6 max-w-7xl mx-auto w-full flex-grow">
      <header class="mb-8">
        <h2 class="text-3xl font-bold text-slate-800">대시보드</h2>
        <p class="text-slate-500 mt-2">학원 운영에 필요한 모든 기능을 한눈에 확인하세요.</p>
      </header>

      <main class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
        <div id="goto-class-mgmt-btn" class="dashboard-card cursor-pointer bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition border border-slate-100 flex flex-col items-center justify-center gap-4 group">
          <div class="w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center group-hover:bg-blue-100 transition"><span class="material-icons text-blue-600 text-3xl">meeting_room</span></div>
          <h3 class="font-bold text-slate-700 text-lg">반 관리</h3>
        </div>
        <div id="goto-student-mgmt-btn" class="dashboard-card cursor-pointer bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition border border-slate-100 flex flex-col items-center justify-center gap-4 group">
          <div class="w-16 h-16 bg-green-50 rounded-full flex items-center justify-center group-hover:bg-green-100 transition"><span class="material-icons text-green-600 text-3xl">school</span></div>
          <h3 class="font-bold text-slate-700 text-lg">학생 관리</h3>
        </div>
        <div id="goto-student-assignment-btn" class="dashboard-card cursor-pointer bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition border border-slate-100 flex flex-col items-center justify-center gap-4 group">
          <div class="w-16 h-16 bg-teal-50 rounded-full flex items-center justify-center group-hover:bg-teal-100 transition"><span class="material-icons text-teal-600 text-3xl">person_add</span></div>
          <h3 class="font-bold text-slate-700 text-lg">학생 반 배정</h3>
        </div>
        <div id="goto-teacher-mgmt-btn" class="dashboard-card cursor-pointer bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition border border-slate-100 flex flex-col items-center justify-center gap-4 group">
          <div class="w-16 h-16 bg-orange-50 rounded-full flex items-center justify-center group-hover:bg-orange-100 transition"><span class="material-icons text-orange-600 text-3xl">supervisor_account</span></div>
          <h3 class="font-bold text-slate-700 text-lg">교사 관리</h3>
        </div>
        <div id="goto-subject-mgmt-btn" class="dashboard-card cursor-pointer bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition border border-slate-100 flex flex-col items-center justify-center gap-4 group">
          <div class="w-16 h-16 bg-purple-50 rounded-full flex items-center justify-center group-hover:bg-purple-100 transition"><span class="material-icons text-purple-600 text-3xl">menu_book</span></div>
          <h3 class="font-bold text-slate-700 text-lg">과목 관리</h3>
        </div>
        <div id="goto-textbook-mgmt-btn" class="dashboard-card cursor-pointer bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition border border-slate-100 flex flex-col items-center justify-center gap-4 group">
          <div class="w-16 h-16 bg-pink-50 rounded-full flex items-center justify-center group-hover:bg-pink-100 transition"><span class="material-icons text-pink-600 text-3xl">library_books</span></div>
          <h3 class="font-bold text-slate-700 text-lg">교재 관리</h3>
        </div>
        <div id="goto-lesson-mgmt-btn" class="dashboard-card cursor-pointer bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition border border-slate-100 flex flex-col items-center justify-center gap-4 group">
          <div class="w-16 h-16 bg-red-50 rounded-full flex items-center justify-center group-hover:bg-red-100 transition"><span class="material-icons text-red-600 text-3xl">video_library</span></div>
          <h3 class="font-bold text-slate-700 text-lg">자기주도 학습 세트</h3>
        </div>
        <div id="goto-class-video-mgmt-btn" class="dashboard-card cursor-pointer bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition border border-slate-100 flex flex-col items-center justify-center gap-4 group">
          <div class="w-16 h-16 bg-indigo-50 rounded-full flex items-center justify-center group-hover:bg-indigo-100 transition"><span class="material-icons text-indigo-600 text-3xl">ondemand_video</span></div>
          <h3 class="font-bold text-slate-700 text-lg">수업 영상 관리</h3>
        </div>
        <div id="goto-qna-video-mgmt-btn" class="dashboard-card cursor-pointer bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition border border-slate-100 flex flex-col items-center justify-center gap-4 group">
          <div class="w-16 h-16 bg-cyan-50 rounded-full flex items-center justify-center group-hover:bg-cyan-100 transition"><span class="material-icons text-cyan-600 text-3xl">question_answer</span></div>
          <h3 class="font-bold text-slate-700 text-lg">질문 영상 관리</h3>
        </div>
        <div id="goto-homework-mgmt-btn" class="dashboard-card cursor-pointer bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition border border-slate-100 flex flex-col items-center justify-center gap-4 group">
          <div class="w-16 h-16 bg-yellow-50 rounded-full flex items-center justify-center group-hover:bg-yellow-100 transition"><span class="material-icons text-yellow-600 text-3xl">assignment</span></div>
          <h3 class="font-bold text-slate-700 text-lg">숙제 확인</h3>
        </div>
        <div id="goto-report-mgmt-btn" class="dashboard-card cursor-pointer bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition border border-slate-100 flex flex-col items-center justify-center gap-4 group">
          <div class="w-16 h-16 bg-lime-50 rounded-full flex items-center justify-center group-hover:bg-lime-100 transition"><span class="material-icons text-lime-600 text-3xl">assessment</span></div>
          <h3 class="font-bold text-slate-700 text-lg">시험 결과 업로드</h3>
        </div>
        <div id="goto-daily-test-mgmt-btn" class="dashboard-card cursor-pointer bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition border border-slate-100 flex flex-col items-center justify-center gap-4 group">
          <div class="w-16 h-16 bg-rose-50 rounded-full flex items-center justify-center group-hover:bg-rose-100 transition"><span class="material-icons text-rose-600 text-3xl">edit_note</span></div>
          <h3 class="font-bold text-slate-700 text-lg">일일 테스트 결과</h3>
        </div>
        <div id="goto-weekly-test-mgmt-btn" class="dashboard-card cursor-pointer bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition border border-slate-100 flex flex-col items-center justify-center gap-4 group">
          <div class="w-16 h-16 bg-fuchsia-50 rounded-full flex items-center justify-center group-hover:bg-fuchsia-100 transition"><span class="material-icons text-fuchsia-600 text-3xl">event_available</span></div>
          <h3 class="font-bold text-slate-700 text-lg">주간 테스트 결과</h3>
        </div>

        <div id="goto-learning-status-mgmt-btn" class="dashboard-card cursor-pointer bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition border border-slate-100 flex flex-col items-center justify-center gap-4 group">
          <div class="w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center group-hover:bg-blue-100 transition"><span class="material-icons text-blue-600 text-3xl">analytics</span></div>
          <h3 class="font-bold text-slate-700 text-lg">학습 현황 분석</h3>
        </div>
      </main>
    </div>

    <div id="admin-subject-mgmt-view" class="admin-view hidden p-6 max-w-4xl mx-auto" style="display: none;">
      <button class="back-to-admin-dashboard-btn mb-6 text-slate-500 hover:text-slate-800 flex items-center gap-2"><span class="material-icons">arrow_back</span> 메인으로 돌아가기</button>
      <header class="mb-8"><h1 class="text-3xl font-bold text-slate-800"> 과목 관리</h1></header>
      <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6">
        <div class="flex gap-3"><input type="text" id="admin-new-subject-name" class="form-input flex-grow" placeholder="새 과목 이름"><button id="admin-add-subject-btn" class="btn-primary whitespace-nowrap">추가</button></div>
      </div>
      <div id="admin-subjects-list" class="space-y-3"></div>
    </div>

    <div id="admin-textbook-mgmt-view" class="admin-view hidden p-6 max-w-4xl mx-auto" style="display: none;">
      <button class="back-to-admin-dashboard-btn mb-6 text-slate-500 hover:text-slate-800 flex items-center gap-2"><span class="material-icons">arrow_back</span> 메인으로 돌아가기</button>
      <header class="mb-8"><h1 class="text-3xl font-bold text-slate-800">교재 관리</h1></header>
      <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6">
        <select id="admin-subject-select-for-textbook" class="form-select mb-4"><option value="">-- 과목을 선택하세요 --</option></select>
        <div id="admin-textbook-management-content" style="display: none;">
          <div class="flex gap-3 mb-6"><input type="text" id="admin-new-textbook-name" class="form-input flex-grow" placeholder="새 교재 이름"><button id="admin-add-textbook-btn" class="btn-primary whitespace-nowrap">추가</button></div>
          <div id="admin-textbooks-list" class="space-y-3"></div>
        </div>
      </div>
    </div>

    <div id="admin-class-mgmt-view" class="admin-view hidden p-6 max-w-4xl mx-auto" style="display: none;">
      <button class="back-to-admin-dashboard-btn mb-6 text-slate-500 hover:text-slate-800 flex items-center gap-2"><span class="material-icons">arrow_back</span> 메인으로 돌아가기</button>
      <header class="mb-8"><h1 class="text-3xl font-bold text-slate-800">반 관리</h1></header>
      <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6">
        <div class="flex gap-3"><input type="text" id="admin-new-class-name" class="form-input flex-grow" placeholder="새 반 이름"><button id="admin-add-class-btn" class="btn-primary whitespace-nowrap">반 추가</button></div>
      </div>
      <div id="admin-classes-list" class="space-y-3"></div>
    </div>

    <div id="admin-student-mgmt-view" class="admin-view hidden p-6 max-w-4xl mx-auto" style="display: none;">
      <button class="back-to-admin-dashboard-btn mb-6 text-slate-500 hover:text-slate-800 flex items-center gap-2"><span class="material-icons">arrow_back</span> 메인으로 돌아가기</button>
      <header class="mb-8"><h1 class="text-3xl font-bold text-slate-800">학생 관리</h1></header>
      <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-3 mb-4">
          <input type="text" id="admin-new-student-name" class="form-input" placeholder="이름">
          <input type="text" id="admin-new-student-phone" class="form-input" placeholder="전화번호">
          <input type="text" id="admin-new-parent-phone" class="form-input" placeholder="부모님 전화번호">
        </div>
        <button id="admin-add-student-btn" class="btn-primary w-full">학생 등록</button>
      </div>
      <div class="mb-4"><input type="text" id="search-student-input" class="w-full p-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none" placeholder="학생 검색..."></div>
      
      <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-y-auto h-[calc(100vh-350px)] min-h-[400px] custom-scrollbar">
        <table class="w-full text-left border-collapse">
          <thead class="bg-slate-50 border-b border-slate-100 text-slate-500 text-sm sticky top-0 z-10 shadow-sm">
            <tr>
              <th class="p-3 font-bold bg-slate-50">이름</th>
              <th class="p-3 font-bold bg-slate-50">전화번호</th>
              <th class="p-3 font-bold bg-slate-50">배정 반</th>
              <th class="p-3 text-right font-bold bg-slate-50">관리</th>
            </tr>
          </thead>
          <tbody id="admin-students-list" class="divide-y divide-slate-100"></tbody>
        </table>
      </div>
      <div id="admin-student-pagination" class="flex justify-center items-center gap-2 mt-6"></div>
    </div>

    <div id="admin-teacher-mgmt-view" class="admin-view hidden p-6 max-w-4xl mx-auto" style="display: none;">
      <button class="back-to-admin-dashboard-btn mb-6 text-slate-500 hover:text-slate-800 flex items-center gap-2"><span class="material-icons">arrow_back</span> 메인으로 돌아가기</button>
      <header class="mb-8"><h1 class="text-3xl font-bold text-slate-800">교사 관리</h1></header>
      <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-4"><input type="text" id="admin-new-teacher-name" class="form-input" placeholder="선생님 이름"><input type="text" id="admin-new-teacher-phone" class="form-input" placeholder="전화번호"></div>
        <button id="admin-add-teacher-btn" class="btn-primary w-full">선생님 등록</button>
      </div>
      <div id="admin-teachers-list" class="space-y-2"></div>
    </div>

    <div id="admin-student-assignment-view" class="admin-view hidden p-6 max-w-6xl mx-auto" style="display: none;"></div>

    <div id="admin-lesson-mgmt-view" class="admin-view hidden p-6 max-w-5xl mx-auto" style="display: none;">
      <button class="back-to-admin-dashboard-btn mb-6 text-slate-500 hover:text-slate-800 flex items-center gap-2"><span class="material-icons">arrow_back</span> 메인으로 돌아가기</button>
      <header class="mb-8"><h1 class="text-3xl font-bold text-slate-800">자기주도 학습 세트</h1></header>
      <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6"><select id="admin-subject-select-for-lesson" class="form-select"><option value="">-- 과목을 선택하세요 --</option></select></div>
      <div id="admin-lesson-prompt" class="text-center py-20 text-slate-400 bg-slate-50 rounded-xl border border-dashed border-slate-300"><span class="material-icons text-6xl mb-2 text-slate-300">library_books</span><p>과목을 선택해주세요.</p></div>
      <div id="admin-lessons-management-content" style="display: none;">
        <div class="flex justify-between items-center mb-6"><h3 class="text-xl font-bold text-slate-700">학습 목록</h3><div class="flex gap-2"><button id="admin-save-lesson-order-btn" class="btn-secondary text-sm">순서 저장</button><button id="admin-show-new-lesson-modal-btn" class="btn-primary text-sm flex items-center gap-1"><span class="material-icons text-sm">add</span> 새 학습 추가</button></div></div>
        <div id="admin-lessons-list" class="space-y-3"></div>
      </div>
    </div>

    <div id="admin-class-video-mgmt-view" class="admin-view hidden p-6 max-w-4xl mx-auto" style="display: none;">
      <button class="back-to-admin-dashboard-btn mb-6 text-slate-500 hover:text-slate-800 flex items-center gap-2"><span class="material-icons">arrow_back</span> 메인으로 돌아가기</button>
      <header class="mb-8"><h1 class="text-3xl font-bold text-slate-800">수업 영상 관리</h1></header>
      
      <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
          <div><label class="block text-sm font-bold text-slate-700 mb-1">날짜 선택</label><input type="date" id="admin-class-video-date" class="form-input"></div>
          <div><label class="block text-sm font-bold text-slate-700 mb-1">반 선택</label><select id="admin-class-video-class-select" class="form-select"><option value="">-- 반 선택 --</option></select></div>
        </div>

        <div class="bg-slate-50 p-4 rounded-xl border border-slate-200 mb-6">
            <h4 class="font-bold text-slate-700 mb-3 text-sm">새 영상 등록</h4>
            <div id="lecture-video-inputs-container">
                <div class="flex gap-2 mb-2">
                    <input type="text" id="admin-class-video-title" placeholder="영상 제목 (예: 1교시)" class="form-input text-sm flex-1">
                    <input type="text" id="admin-class-video-url" placeholder="유튜브 URL" class="form-input text-sm flex-1">
                </div>
            </div>
            <div class="flex justify-end gap-2 mt-3">
                <button id="admin-add-class-video-field-btn" class="text-indigo-600 font-bold text-sm px-3 py-2 hover:bg-indigo-50 rounded transition">+ 추가</button>
                <button id="admin-save-class-video-btn" class="btn-primary text-sm py-2">등록하기</button>
            </div>
        </div>

        <div class="border-t pt-4">
            <h4 class="font-bold text-slate-700 mb-3">등록된 영상 목록</h4>
            <div id="admin-class-video-list-container" class="space-y-3">
                <p class="text-slate-400 text-sm py-4 text-center">반과 날짜를 선택하면 목록이 표시됩니다.</p>
            </div>
        </div>
      </div>
    </div>

    <div id="admin-qna-video-mgmt-view" class="admin-view hidden p-6 max-w-4xl mx-auto" style="display: none;">
      <button class="back-to-admin-dashboard-btn mb-6 text-slate-500 hover:text-slate-800 flex items-center gap-2"><span class="material-icons">arrow_back</span> 메인으로 돌아가기</button>
      <header class="mb-8"><h1 class="text-3xl font-bold text-slate-800">질문 영상 관리</h1></header>
      <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"><div><label class="block text-sm font-bold text-slate-700 mb-1">날짜</label><input type="date" id="admin-qna-video-date" class="form-input"></div><div><label class="block text-sm font-bold text-slate-700 mb-1">반 선택</label><select id="admin-qna-class-select" class="form-select"><option value="">-- 반 선택 --</option></select></div></div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"><input type="text" id="admin-qna-video-title" class="form-input" placeholder="영상 제목"><input type="text" id="admin-qna-video-url" class="form-input" placeholder="URL"></div>
        <button id="admin-save-qna-video-btn" class="btn-primary w-full">영상 저장</button>
      </div>
      <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6"><h3 class="font-bold text-slate-700 mb-4">등록된 영상 목록</h3><div id="admin-qna-videos-list" class="space-y-2"><p class="text-slate-400 text-sm">목록이 표시됩니다.</p></div></div>
    </div>

    <div id="admin-homework-mgmt-view" class="admin-view hidden p-6 max-w-6xl mx-auto" style="display: none;">
      <button class="back-to-admin-dashboard-btn mb-6 text-slate-500 hover:text-slate-800 flex items-center gap-2"><span class="material-icons">arrow_back</span> 메인으로 돌아가기</button>
      <header class="mb-8"><h1 class="text-3xl font-bold text-slate-800">숙제 확인</h1></header>
      <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6">
        <div class="max-w-md"><label class="block text-sm font-bold text-slate-700 mb-1">반 선택</label><select id="admin-homework-class-select" class="form-select"><option value="">-- 반을 선택하세요 --</option></select></div>
      </div>
      <div id="admin-homework-main-content" style="display: none;">
        <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
          <div class="lg:col-span-1 bg-white rounded-xl shadow-sm border border-slate-200 p-4 h-[calc(100vh-300px)] flex flex-col">
            <div class="flex justify-between items-center mb-4"><h3 class="font-bold text-slate-700">숙제 목록</h3><button id="admin-assign-homework-btn" class="text-sm bg-indigo-50 text-indigo-600 px-3 py-1 rounded-full font-bold">+ 새 숙제</button></div>
            <select id="admin-homework-select" class="form-select mb-2" size="10" style="height: 100%; overflow-y: auto;"></select>
            <div id="admin-homework-management-buttons" class="mt-2 flex gap-2" style="display: none;"><button id="admin-edit-homework-btn" class="flex-1 bg-slate-100 text-slate-600 text-xs py-2 rounded font-bold">수정</button><button id="admin-delete-homework-btn" class="flex-1 bg-red-50 text-red-500 text-xs py-2 rounded font-bold">삭제</button></div>
          </div>
          
          <div class="lg:col-span-3 bg-white rounded-xl shadow-sm border border-slate-200 p-6 h-[calc(100vh-220px)] overflow-hidden flex flex-col">
            <div id="admin-homework-content" style="display: none;" class="h-full flex flex-col">
                <h3 id="admin-selected-homework-title" class="text-xl font-bold text-slate-800 mb-4 pb-4 border-b"></h3>
                <div class="overflow-x-auto h-full overflow-y-auto custom-scrollbar">
                    <table class="w-full text-sm text-left border-collapse">
                        <thead class="bg-slate-50 text-slate-600 sticky top-0 z-10 shadow-sm">
                            <tr>
                                <th class="p-3 border-b font-bold bg-slate-50">이름</th>
                                <th class="p-3 border-b font-bold bg-slate-50">상태</th>
                                <th class="p-3 border-b font-bold bg-slate-50">제출일시</th>
                                <th class="p-3 border-b font-bold text-center bg-slate-50">확인</th>
                            </tr>
                        </thead>
                        <tbody id="admin-homework-table-body" class="divide-y divide-slate-100"></tbody>
                    </table>
                </div>
            </div>
            <div id="admin-homework-placeholder" class="h-full flex flex-col items-center justify-center text-slate-400"><span class="material-icons text-6xl mb-4 text-slate-200">assignment_turned_in</span><p>왼쪽에서 숙제를 선택해주세요.</p></div>
          </div>
        </div>
      </div>
    </div>

    <div id="admin-report-mgmt-view" class="admin-view hidden p-6 max-w-4xl mx-auto" style="display: none;">
      <button class="back-to-admin-dashboard-btn mb-6 text-slate-500 hover:text-slate-800 flex items-center gap-2"><span class="material-icons">arrow_back</span> 메인으로 돌아가기</button>
      <header class="mb-8"><h1 class="text-3xl font-bold text-slate-800">시험 결과 관리</h1></header>
      <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"><div><label class="block text-sm font-bold text-slate-700 mb-1">반 선택</label><select id="admin-report-class-select" class="form-select"><option value="">-- 반 선택 --</option></select></div><div><label class="block text-sm font-bold text-slate-700 mb-1">시험 날짜</label><input type="date" id="admin-report-date" class="form-input"></div></div>
        <div class="mb-4"><label class="block text-sm font-bold text-slate-700 mb-1">파일 선택</label><input type="file" id="admin-report-files-input" multiple class="block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100"><p class="text-xs text-slate-400 mt-1">* 파일명에 학생 이름이 포함되어야 합니다.</p></div>
        <div class="flex justify-between items-center"><span id="admin-report-upload-status" class="text-sm font-bold text-slate-600"></span><button id="admin-upload-reports-btn" class="btn-primary">업로드 시작</button></div>
      </div>
      <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6"><h3 class="font-bold text-slate-700 mb-4">업로드된 리포트</h3><div id="admin-uploaded-reports-list" class="space-y-2"></div></div>
    </div>

    <div id="admin-daily-test-mgmt-view" class="admin-view hidden p-6 max-w-5xl mx-auto" style="display: none;">
      <button class="back-to-admin-dashboard-btn mb-6 text-slate-500 hover:text-slate-800 flex items-center gap-2"><span class="material-icons">arrow_back</span> 메인으로 돌아가기</button>
      <header class="mb-8"><h1 class="text-3xl font-bold text-slate-800">일일 테스트 결과</h1><p class="text-slate-500 mt-2">반 학생들의 일일 테스트 점수 누적표를 날짜별로 확인합니다.</p></header>
      <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"><div><label class="block text-sm font-bold text-slate-700 mb-1">1. 반 선택</label><select id="admin-daily-test-class-select" class="form-select"><option value="">-- 반 선택 --</option></select></div><div><label class="block text-sm font-bold text-slate-700 mb-1">2. 과목 선택</label><select id="admin-daily-test-subject-select" class="form-select" disabled><option value="">-- 반을 먼저 선택하세요 --</option></select></div></div>
        <div id="admin-daily-test-pagination" class="hidden flex justify-between items-center mb-4 bg-slate-50 p-2 rounded-lg border border-slate-200"><button id="admin-daily-test-prev-btn" class="text-sm font-bold text-slate-600 px-3 py-1 hover:bg-white hover:shadow-sm rounded transition disabled:opacity-30">◀ 이전 4회</button><span id="admin-daily-test-page-info" class="text-xs text-slate-500 font-mono"></span><button id="admin-daily-test-next-btn" class="text-sm font-bold text-slate-600 px-3 py-1 hover:bg-white hover:shadow-sm rounded transition disabled:opacity-30">다음 4회 ▶</button></div>
        <div id="admin-daily-test-result-table" class="overflow-x-auto min-h-[300px]"><p class="text-center text-slate-400 py-10">반과 과목을 선택해주세요.</p></div>
      </div>
    </div>

    <div id="admin-weekly-test-mgmt-view" class="admin-view hidden p-6 max-w-5xl mx-auto" style="display: none;">
      <button class="back-to-admin-dashboard-btn mb-6 text-slate-500 hover:text-slate-800 flex items-center gap-2">
        <span class="material-icons">arrow_back</span> 메인으로 돌아가기
      </button>
      
      <div class="mb-8">
        <div class="flex justify-between items-center mb-4 border-l-4 border-indigo-500 pl-3">
          <h3 class="text-lg font-bold text-slate-800">주간 테스트 관리</h3>
          <button id="admin-add-weekly-test-btn" class="px-4 py-2 bg-indigo-600 text-white text-sm font-bold rounded-xl hover:bg-indigo-700 transition shadow-sm flex items-center gap-2">
            <span class="material-icons-round text-base">add</span> 성적 추가
          </button>
        </div>
        
        <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
          <div class="flex gap-4 mb-4">
            <select id="admin-weekly-test-class-select" class="p-3 bg-slate-50 rounded-xl border-none focus:ring-2 focus:ring-indigo-200 outline-none">
              <option value="">-- 반 선택 --</option>
            </select>
          </div>
          
          <div id="admin-weekly-test-result-table" class="overflow-x-auto min-h-[150px]"></div>
          
          <div id="admin-weekly-test-pagination" class="flex justify-center items-center gap-4 mt-4 hidden">
            <button id="admin-weekly-test-prev-btn" class="p-2 bg-slate-100 rounded-lg hover:bg-slate-200">◀</button>
            <span id="admin-weekly-test-page-info" class="text-sm font-bold text-slate-600">1 / 1</span>
            <button id="admin-weekly-test-next-btn" class="p-2 bg-slate-100 rounded-lg hover:bg-slate-200">▶</button>
          </div>
        </div>
      </div>
    </div>

    <div id="admin-learning-status-mgmt-view" class="admin-view hidden p-6 max-w-5xl mx-auto" style="display: none;">
      <button class="back-to-admin-dashboard-btn mb-6 text-slate-500 hover:text-slate-800 flex items-center gap-2"><span class="material-icons">arrow_back</span> 메인으로 돌아가기</button>
      <header class="mb-8"><h1 class="text-3xl font-bold text-slate-800">학습 현황 상세</h1><p class="text-slate-500 mt-2">특정 학습 세트의 학생별 진행 상황을 확인합니다.</p></header>
      <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"><div><label class="block text-sm font-bold text-slate-700 mb-1">1. 반 선택</label><select id="admin-learning-class-select" class="form-select"><option value="">-- 반 선택 --</option></select></div><div><label class="block text-sm font-bold text-slate-700 mb-1">2. 과목 선택</label><select id="admin-learning-subject-select" class="form-select" disabled><option value="">-- 반을 먼저 선택하세요 --</option></select></div><div><label class="block text-sm font-bold text-slate-700 mb-1">3. 학습 세트 선택</label><select id="admin-learning-lesson-select" class="form-select" disabled><option value="">-- 과목을 먼저 선택하세요 --</option></select></div></div>
        <div id="admin-learning-result-table" class="overflow-x-auto min-h-[200px]"><p class="text-center text-slate-400 py-10">조회할 학습을 선택해주세요.</p></div>
      </div>
    </div>

  </div> 
  
  <div id="admin-edit-teacher-modal" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50">
    <div class="bg-white p-6 rounded-xl w-full max-w-md shadow-2xl">
      <h3 class="text-lg font-bold mb-4">교사 정보 수정</h3>
      <input type="text" id="admin-edit-teacher-name" class="form-input mb-3" placeholder="이름">
      <input type="text" id="admin-edit-teacher-phone" class="form-input mb-3" placeholder="전화번호">
      <div class="flex justify-end gap-2 mt-4"><button id="admin-cancel-edit-teacher-btn" class="btn-secondary">취소</button><button id="admin-save-teacher-edit-btn" class="btn-primary">저장</button></div>
      <button id="admin-close-edit-teacher-modal-btn" class="hidden"></button>
    </div>
  </div>

  <div id="admin-edit-student-modal" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50">
    <div class="bg-white p-6 rounded-xl w-full max-w-md shadow-2xl">
      <h3 class="text-lg font-bold mb-4">학생 정보 수정</h3>
      <input type="text" id="admin-edit-student-name" class="form-input mb-3" placeholder="이름">
      <input type="text" id="admin-edit-student-phone" class="form-input mb-3" placeholder="전화번호">
      <input type="text" id="admin-edit-parent-phone" class="form-input mb-3" placeholder="부모님 전화번호">
      <div class="mb-3"><label class="block text-sm text-slate-500 mb-1">배정 반</label><select id="admin-edit-student-class-select" class="form-input w-full"><option value="">(미배정)</option></select></div>
      <div class="flex justify-end gap-2 mt-4"><button id="admin-cancel-edit-student-btn" class="btn-secondary">취소</button><button id="admin-save-student-edit-btn" class="btn-primary">저장</button></div>
      <button id="admin-close-edit-student-modal-btn" class="hidden"></button>
    </div>
  </div>

  <div id="admin-edit-class-modal" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50">
    <div class="bg-white p-6 rounded-xl w-full max-w-lg shadow-2xl max-h-[90vh] overflow-y-auto">
      <h3 class="text-lg font-bold mb-4">반 정보 수정</h3>
      <div class="mb-4"><label class="block text-sm font-bold text-slate-700 mb-1">반 이름</label><input type="text" id="admin-edit-class-name" class="form-input"></div>
      <div class="mb-4"><label class="block text-sm font-bold text-slate-700 mb-1">반 타입</label><select id="admin-edit-class-type" class="form-select"><option value="self-directed">자기주도반</option><option value="live-lecture">현강반</option></select></div>
      <div class="mb-4"><label class="block text-sm font-bold text-slate-700 mb-2"> 과목 및 교재 설정</label><div id="admin-edit-class-subjects-and-textbooks" class="space-y-2 border p-3 rounded-lg bg-slate-50 max-h-60 overflow-y-auto"></div></div>
      <div class="flex justify-end gap-2 mt-4"><button id="admin-cancel-edit-class-btn" class="btn-secondary">취소</button><button id="admin-save-class-edit-btn" class="btn-primary">저장</button></div>
      <button id="admin-close-edit-class-modal-btn" class="hidden"></button>
    </div>
  </div>

  <div id="admin-new-lesson-modal" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50">
    <div class="bg-white p-6 rounded-xl w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto custom-scrollbar">
      <div class="flex justify-between items-center mb-4"><h3 id="admin-lesson-modal-title" class="text-xl font-bold text-slate-800">새 학습 세트 추가</h3><button id="admin-close-modal-btn" class="text-slate-400 hover:text-slate-600 text-2xl">&times;</button></div>
      <div class="space-y-4">
        <div><label class="block text-sm font-bold text-slate-700 mb-1">학습 제목</label><input type="text" id="admin-lesson-title" class="form-input" placeholder="예: 1단원 개념 학습"></div>
        <div class="p-4 bg-blue-50 rounded-lg border border-blue-100"><h4 class="text-sm font-bold text-blue-800 mb-2">1. 개념 영상 (메인)</h4><input type="text" id="admin-video1-url" class="form-input mb-2" placeholder="유튜브 URL 입력"><div id="admin-video1-rev-urls-container" class="space-y-2 mb-2"></div><button id="admin-add-video1-rev-btn" class="text-xs bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700">+ 보충 영상 추가</button></div>
        <div class="p-4 bg-green-50 rounded-lg border border-green-100"><h4 class="text-sm font-bold text-green-800 mb-2">2. 문제 풀이 영상 (교재별)</h4><div id="video2ListContainer" class="space-y-2 mb-2"></div><button type="button" id="btnAddVideo2Item" class="text-xs bg-green-600 text-white px-2 py-1 rounded hover:bg-green-700">+ 교재별 영상 추가</button></div>
        <div class="p-4 bg-purple-50 rounded-lg border border-purple-100"><h4 class="text-sm font-bold text-purple-800 mb-2">3. 퀴즈 설정</h4><textarea id="admin-quiz-json-input" class="form-input font-mono text-xs h-32" placeholder='[{"question":"...","options":["..."],"answer":"...","correctAnswerIndex":0}]'></textarea><button id="admin-preview-quiz-btn" class="mt-2 text-xs bg-purple-600 text-white px-3 py-1 rounded hover:bg-purple-700">미리보기</button><div id="admin-questions-preview-container" class="mt-4 hidden bg-white p-3 rounded border border-purple-200"><h5 id="admin-questions-preview-title" class="font-bold text-sm mb-2"></h5><ul id="admin-questions-preview-list" class="list-decimal pl-5 text-sm space-y-1"></ul></div></div>
      </div>
      <div class="flex justify-end gap-2 mt-6 pt-4 border-t border-slate-100"><button id="admin-cancel-btn" class="btn-secondary">취소</button><button id="admin-save-lesson-btn" class="btn-primary min-w-[100px] flex justify-center items-center gap-2"><span id="admin-save-btn-text">저장하기</span><div id="admin-save-loader" class="loader-small hidden"></div></button></div>
    </div>
  </div>

  <div id="admin-assign-homework-modal" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50">
    <div class="bg-white p-6 rounded-xl w-full max-w-md shadow-2xl">
        <h3 id="admin-homework-modal-title" class="text-lg font-bold mb-4">새 숙제 등록</h3>
        <div class="space-y-3">
            <div><label class="block text-sm font-bold text-slate-700 mb-1">숙제 제목</label><input type="text" id="admin-homework-title" class="form-input" placeholder="예: 1단원 문제풀이"></div>
            <div><label class="block text-sm font-bold text-slate-700 mb-1"> 과목</label><select id="admin-homework-subject-select" class="form-select"><option value="">과목 선택</option></select></div>
            <div><label class="block text-sm font-bold text-slate-700 mb-1">교재</label><select id="admin-homework-textbook-select" class="form-select" disabled><option value="">교재 선택</option></select></div>
            <div><label class="block text-sm font-bold text-slate-700 mb-1">페이지/범위</label><input type="text" id="admin-homework-pages" class="form-input" placeholder="예: p.10 ~ p.15"></div>
            <div><label class="block text-sm font-bold text-slate-700 mb-1">총 제출할 페이지 수 (숫자)</label><input type="number" id="admin-homework-total-pages" class="form-input" placeholder="예: 5 (5장 제출)"></div>
            <div><label class="block text-sm font-bold text-slate-700 mb-1">마감일</label><input type="date" id="admin-homework-due-date" class="form-input"></div>
        </div>
        <div class="flex justify-end gap-2 mt-6"><button id="admin-cancel-homework-btn" class="btn-secondary">취소</button><button id="admin-save-homework-btn" class="btn-primary">저장</button></div>
        <button id="admin-close-homework-modal-btn" class="hidden"></button>
    </div>
  </div>

  <div id="admin-weekly-test-modal" class="fixed inset-0 z-50 bg-black/50 hidden flex items-center justify-center p-4 backdrop-blur-sm" style="display: none;">
    <div class="bg-white w-full max-w-sm rounded-3xl p-6 shadow-2xl">
        <h3 class="text-xl font-bold text-slate-800 mb-4">주간테스트 성적 등록</h3>
        <div class="space-y-4">
            <div>
                <label class="block text-xs font-bold text-slate-400 mb-1">학생 선택</label>
                <select id="admin-weekly-modal-student" class="w-full p-3 bg-slate-50 rounded-xl text-sm border-none outline-none"></select>
            </div>
            <div>
                <label class="block text-xs font-bold text-slate-400 mb-1">날짜 (금/토/일)</label>
                <input type="date" id="admin-weekly-modal-date" class="w-full p-3 bg-slate-50 rounded-xl text-sm border-none outline-none">
            </div>
            <div>
                <label class="block text-xs font-bold text-slate-400 mb-1">점수</label>
                <input type="number" id="admin-weekly-modal-score" placeholder="0~100" class="w-full p-3 bg-slate-50 rounded-xl text-sm border-none outline-none">
            </div>
            <div class="flex gap-2 mt-6">
                <button id="admin-weekly-modal-close-btn" class="flex-1 py-3 bg-slate-100 text-slate-600 font-bold rounded-xl hover:bg-slate-200">취소</button>
                <button id="admin-weekly-modal-save-btn" class="flex-1 py-3 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 shadow-md">저장</button>
            </div>
        </div>
    </div>
  </div>

  <script type="module" src="/src/admin/adminApp.js"></script>
</body>
</html>